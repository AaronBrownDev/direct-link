syntax = "proto3";

package directlink.signaling;

// Go package path for generated code
option go_package = "github.com/AaronBrownDev/direct-link/shared/protocol/signaling";

// SignalingService handles session access and production control
service SignalingService {
    // JoinSession authenticates a user and returns a LiveKit token for direct media connection
    rpc JoinSession(JoinRequest) returns (JoinReply);
}

// JoinRequest initiates joining a session
message JoinRequest {
    string session_id = 1; // Room/session to join
    string user_id = 2; // Unique identifier for who is requesting
    string role = 3; // "camera" or "director"
}

// JoinReply provides credentials for connecting to LiveKit
message JoinReply {
    string token = 1; // LiveKit JWT access token
    string livekit_url = 2; // LiveKit server URL for media connection
}